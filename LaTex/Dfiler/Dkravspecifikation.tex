\chapter{Kravspecifikation}

\begin{longtabu} to \linewidth{@{}l l l X[j]@{}}
    Version &    Dato &    Ansvarlig &    Beskrivelse\\[-1ex]
    \midrule

\label{version_Systemark}
\end{longtabu}


\section{Indledning}


\section{Funktionelle krav}
De funktionelle krav vil nedenstående beskrives ud fra Aktør-kontekstdiagram, aktørbeskrivelse, Use Cases samt Use Case diagram. 

\subsection{Aktør-kontekstdiagram}
\begin{figure}
	\centering
	\includegraphics[width=1\textwidth]{Figurer/Aktør-kontekst diagram}
	\caption{Aktør-kontekstdiagram}
	\label{fig:aktoerbeskrivelse}
\end{figure}



\subsection{Aktørbeskrivelse}

\begin{table}[H]
\begin{tabularx}{\textwidth}{l X}
     Aktørnavn & Bruger \\
     Type & Primær \\
     Beskrivelse  & Person med relevant baggrundsviden inden for blodtryksanalyse \\ 
     \midrule
     Aktørnavn & Borger  \\
     Type & Sekundær \\
     Beskrivelse  & Borger er en kombination af Physionet og Analog Discovery. Borger repræsenterer data fra Physionet leveret til blodtryksmålingssystemet igennem Analog Discovery \\
     \midrule
     Aktørnavn & Database \\
     Type & Sekundær \\
     Beskrivelse  & Database bruges i blodtryksmålingssystemet til at gemme data \\ 
     \midrule
     Atørnavn & Physionet \\
     Type & Ekstern  \\
     Beskrivelse  & Physionet er en ekstern database, som indeholder blodtrykssignalet fra forskellige patienter \\
     \midrule
     Aktørnavn & Analog Discovery  \\
     Type & Ekstern \\
     Beskrivelse  & Analog Discovery omdanner data fra Physionet til at analogt signal \\                                                                                                                                                                          
     \bottomrule                                                                                                                   
    \end{tabularx}
    \caption {Aktørbeskrivelse}
    \label{tab:aktoerbeskrivelse}
	
\end{table}

\subsection{Use case-diagram}


\subsection{Use Cases}

\begin{longtabu} to \linewidth{@{}l r X[j]@{}} %UC1%
    {\large \textbf{Use Case 1}} && \\
    \toprule
    Navn &&    Vis Måling\\
    Use case ID &&    1\\
    Samtidige forløb &&    1\\
    Primær aktør &&    Bruger\\
    Sekundære aktør &&	 \\
    Referencer &&    UC2 \\
    Mål &&    Bruger ønsker at vise blodtrykssignal uden digitalt filter\\
    Initiering &&	Startes af Bruger\\
    Forudsætninger &&  Systemet er aktivt og tilgængeligt.\\
    Resultat &&		Blodtrykssignalet udskives                         \\ \midrule
    Hovedforløb &    1. &    System spørger om der skal foretages en kalibrering\newline  
    						[1.a \textit{Bruger ønsker at kalibrere}]\\								
    			&    2. &    Blodtryksignal udskrives\newline\\ \midrule
                
    Undtagelser &    1.a &   UC2 gennemføres hvorefter UC1 fortsætter ved punkt 2   \\ \bottomrule
\caption{Fully dressed Use Case 1.}
\label{UC1}
\end{longtabu}


\begin{longtabu} to \linewidth{@{}l r X[j]@{}} %UC1%
    {\large \textbf{Use Case 2}} && \\
    \toprule
    Navn &&    Kalibrér\\
    Use case ID &&    2\\
    Samtidige forløb &&    1\\
    Primær aktør &&    Bruger\\
    Sekundære aktør &&	 \\
    Reference &&      \\
    Mål &&    Bruger ønsker at kalibrere blodtrykssignal\\
    Initiering &&	Startes af Bruger\\
    Forudsætninger &&  Systemet er aktivt og tilgængeligt. UC1 kører.\\
    Resultat &&		Blodtrykssignalet er kalibreret                         \\ \midrule
    Hovedforløb &    1. &    System spørger om valg af kalibrering\\[-1ex]   				
    			&    2. &    Brugeren ønsker kalibrering\newline
    						 [2.a \textit{Bruger ønsker ikke kalibrering}]\\
                &    3.	&	 System kalibrerer og udskriver valg\newline\\ \midrule
                
    Undtagelser &    2.a &   System fortsætter i UC1  \\ \bottomrule
\caption{Fully dressed Use Case 2.}
\label{UC2}
\end{longtabu}


\begin{longtabu} to \linewidth{@{}l r X[j]@{}} %UC2%
    {\large \textbf{Use Case 3}} && \\
    \toprule
    Navn &&    Nulpunktsjustér blodtrykssignal\\
    Use case ID &&    3\\
    Samtidige forløb &&    1\\
    Primær aktør &&    Bruger\\
    Sekundære aktør &&	Borger \\
    Reference &&      \\
    Mål &&    Bruger ønsker at nulpunktsjustere blodtrykssignal\\
    Initiering &&	Startes af Bruger\\
    Forudsætninger &&  Borger er tilsluttet systemet. Systemet er aktivt og tilgængeligt\\
    Resultat &&		Blodtrykssignalet er nulpunktsjusteret\\ \midrule
    Hovedforløb &    1. &    Bruger starter nulpunktsjustering\\[-1ex]   						 	
                &    2. &    System udskriver valg\newline\\ \midrule
                
    Undtagelser &     &      \\ \bottomrule
\caption{Fully dressed Use Case 3.}
\label{UC3}
\end{longtabu}

\begin{longtabu} to \linewidth{@{}l r X[j]@{}} %UC3%
    {\large \textbf{Use Case 4}} && \\
    \toprule
    Navn &&    Aktivér digitalt filter\\
    Use case ID &&    4\\
    Samtidige forløb &&   1\\
    Primær aktør &&    Bruger\\
    Sekundære aktør &&	Borger \\
    Reference &&      \\
    Mål &&    Bruger ønsker at filtere blodtrykssignalet igennem et digitalt filter\\
    Initiering &&	Startes af Bruger\\
    Forudsætninger &&  Systemet er aktivt og tilgængeligt. UC1 kører.  \\
    Resultat &&		Digitalt filtreret blodtrykssignal udskrives                 \\ \midrule
    Hovedforløb &    1. &    Bruger aktiverer filter\\[-1ex]   						 	
                &    2. &    Systemet meddeler at filteret er aktivt\newline\\ \midrule
                
    Undtagelser &     &      \\ \bottomrule
\caption{Fully dressed Use Case 4.}
\label{UC4}
\end{longtabu}

\begin{longtabu} to \linewidth{@{}l r X[j]@{}} %UC3%
    {\large \textbf{Use Case 5}} && \\
    \toprule
    Navn &&    Gem måling\\
    Use case ID &&    5\\
    Samtidige forløb &&   *\\
    Primær aktør &&    Bruger\\
    Sekundære aktør &&	Database, Borger \\
    Reference &&      \\
    Mål &&    Bruger ønsker at gemme data\\
    Initiering &&	Startes af Bruger\\
    Forudsætninger &&  Systemet er aktivt og tilgængeligt. UC1 kører.  \\
    Resultat &&		Data er gemt i en database                 \\ \midrule
    Hovedforløb &    1. &    Bruger trykker på "Gem"\--knap \\[-1ex]   						 	
                &    2. &    System åbner nyt vindue til indtastning af oplysninger\\[-1ex]
                &    3.	&	 Bruger indtaster oplysninger\\[-1ex]
                &	 4. &    Bruger trykker på "Gem og afslut"\--knap  \newline\\ \midrule
                
    Undtagelser &     &      \\ \bottomrule
\caption{Fully dressed Use Case 5.}
\label{UC5}
\end{longtabu}


\section{Ikke-funktionelle krav}


\subsection{(F)URPS+}
MoSCoW er angivet i parentes med hhv. M, S, C eller W.

\textbf{Usability}
\begin{itemize}
	\item (M) Brugeren skal kunne starte en default-måling maksimalt 20 sek. efter opstart af programmet
	\item (M) Login-vinduet skal indeholde en "login"\--knap til at logge på og få vist EKG-vinduet
	\item (M) EKG-vinduet skal indeholde en "start"\--knap til at igangsætte målingerne
	\item (M) EKG-vinduet skal indeholde en "log ud"\--knap
	\item (M) EKG-vinduet  skal indeholde en "gem"\--knap
	\item (M) Information-vinduet skal indeholde en "gem"\--knap
\end{itemize}

\textbf{Reliability}
\begin{itemize}
	\item (M) Systemet skal have en effektiv MTBF (Mean Time Between Failure) på 20 minutter og en MTTR (Mean Time To Restore) på 1 minut.
				\begin{align}
					Availability = \frac{MTBF}{MTBF+MTTR} = \frac{20}{20+1} = 0,952 = 95,2 \%
				\end{align}

\end{itemize}

\textbf{Performance}
\begin{itemize}
	\item (M) Der skal vises en EKG-graf i EKG-vinduet, hvor spænding vises op af y-aksen (-1V til 1V) og tiden på x-aksen
	\item (M) Grafen skal være scrollbar på x-aksen, så brugeren selv ved brug af musen kan vælge det udsnit af grafen, der skal vises mere detaljeret
	\item (M) Skal tage en sample over et brugerbestemt interval, hvor frekvensen  er tilpasset målingerne, således at grafen er analyserbar
\end{itemize}

\textbf{Supportability}
\begin{itemize}
	\item (M) Softwaren er opbygget af trelagsmodellen
\end{itemize}















